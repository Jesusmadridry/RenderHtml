<html>

<head>
    <title>DSB</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/royalui/vendors/ti-icons/css/themify-icons.css">
    <link rel="stylesheet" href="/royalui/vendors/base/vendor.bundle.base.css">
    <link rel="stylesheet" href="/royalui/css/style.css">

    <!-- <script type="text/javascript" src="/jquery/resources/external/jquery.bgiframe-2.1.2.js"></script>
    <script type="text/javascript" src="/jquery/resources/external/jquery.multiselect.js"></script> -->
    <!-- <link rel="stylesheet" type="text/css" href="/css/3invest.css"> -->

    <style type="text/css">
        /* Chart.js */
        @keyframes chartjs-render-animation {
            from {
                opacity: .99
            }

            to {
                opacity: 1
            }
        }

        .chartjs-render-monitor {
            animation: chartjs-render-animation 1ms
        }

        .chartjs-size-monitor,
        .chartjs-size-monitor-expand,
        .chartjs-size-monitor-shrink {
            position: absolute;
            direction: ltr;
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
            overflow: hidden;
            pointer-events: none;
            visibility: hidden;
            z-index: -1
        }

        .chartjs-size-monitor-expand>div {
            position: absolute;
            width: 1000000px;
            height: 1000000px;
            left: 0;
            top: 0
        }

        .chartjs-size-monitor-shrink>div {
            position: absolute;
            width: 200%;
            height: 200%;
            left: 0;
            top: 0
        }

        .mytable {
            border-collapse: collapse;
            width: 100%;
            background-color: white;
        }

        .mytable-head {
            border: 1px solid black;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .mytable-head td {
            border: 1px solid black;
        }

        .mytable-body {
            border: 1px solid black;
            border-top: 0;
            margin-top: 0;
            padding-top: 0;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .mytable-body td {
            border: 1px solid black;
            border-top: 0;
        }

        .mytable-footer {
            border: 1px solid black;
            border-top: 0;
            margin-top: 0;
            padding-top: 0;
        }

        .mytable-footer td {
            border: 1px solid black;
            border-top: 0;
        }

        .report {
            width: 510px;
            height: 170px;
            border: 1px solid black;
            margin: auto;
        }

        .graph {
            width: 340px;
            height: 170px;
            border: 1px solid black;
            margin: auto;
        }

        .square {
            width: 170px;
            height: 170px;
            border: 1px solid black;
            margin: auto;
        }

        .card {
            margin-left: 10px !important;
        }

        tr {
            min-height: 150px;
        }
    </style>
</head>

<body>
    <table class="mytable mytable-head">
        <tr id="list">
            <td width="25%"></td>
            <td width="25%"></td>
            <td width="25%"></td>
            <td width="25%"></td>
        </tr>
    </table>


    

    <div id="grafico">
        <div class="col-md-8 grid-margin stretch-card">
            <div class="card border-bottom-0">
                <div class="card-body pb-0">
                    <p class="card-title">Purchases</p>
                    <p class="text-muted font-weight-light">The argument in favor of using filler text
                        goes something like this: If you use real content in the design process, anytime
                        you reach a review</p>
                    <div class="d-flex flex-wrap mb-5">
                        <div class="mr-5 mt-3">
                            <p class="text-muted">Status</p>
                            <h3>362</h3>
                        </div>
                        <div class="mr-5 mt-3">
                            <p class="text-muted">New users</p>
                            <h3>187</h3>
                        </div>
                        <div class="mr-5 mt-3">
                            <p class="text-muted">Chats</p>
                            <h3>524</h3>
                        </div>
                        <div class="mt-3">
                            <p class="text-muted">Feedbacks</p>
                            <h3 id="feedbacksValue">1000</h3>
                        </div>
                    </div>
                </div>
                <canvas id="order-chart" class="w-100 chartjs-render-monitor"></canvas>
            </div>
        </div>
    </div>
    <table class="mytable mytable-body">
        <tr id="graph1">
            <td width="50%">
                

                <div class="col-md-8 grid-margin stretch-card">
                    <div class="card border-bottom-0">
                        <div class="card-body pb-0">
                            <p class="card-title">Purchases</p>
                            <p class="text-muted font-weight-light">The argument in favor of using filler text
                                goes something like this: If you use real content in the design process, anytime
                                you reach a review</p>
                            <div class="d-flex flex-wrap mb-5">
                                <div class="mr-5 mt-3">
                                    <p class="text-muted">Status</p>
                                    <h3>362</h3>
                                </div>
                                <div class="mr-5 mt-3">
                                    <p class="text-muted">New users</p>
                                    <h3>187</h3>
                                </div>
                                <div class="mr-5 mt-3">
                                    <p class="text-muted">Chats</p>
                                    <h3>524</h3>
                                </div>
                                <div class="mt-3">
                                    <p class="text-muted">Feedbacks</p>
                                    <h3>1500</h3>
                                </div>
                            </div>
                        </div>
                        <canvas id="graphSuccess" class="w-100"></canvas>
                    </div>
                </div>
            </td>
            <td width="50%">
                <div class="col-md-8 grid-margin stretch-card">
                    <div class="card border-bottom-0">
                        <div class="card-body pb-0">
                            <p class="card-title">Purchases</p>
                            <p class="text-muted font-weight-light">The argument in favor of using filler text
                                goes something like this: If you use real content in the design process, anytime
                                you reach a review</p>
                            <div class="d-flex flex-wrap mb-5">
                                <div class="mr-5 mt-3">
                                    <p class="text-muted">Status</p>
                                    <h3>362</h3>
                                </div>
                                <div class="mr-5 mt-3">
                                    <p class="text-muted">New users</p>
                                    <h3>187</h3>
                                </div>
                                <div class="mr-5 mt-3">
                                    <p class="text-muted">Chats</p>
                                    <h3>524</h3>
                                </div>
                                <div class="mt-3">
                                    <p class="text-muted">Feedbacks</p>
                                    <h3>509</h3>
                                </div>
                            </div>
                        </div>
                        <canvas id="order-charts" class="w-100"></canvas>
                    </div>
                </div>
            </td>
        </tr>
    </table>
    <table class="mytable mytable-body">
        <tr id="graph2">
            <td width="50%"></td>
            <td width="50%"></td>
        </tr>
    </table>
    <table class="mytable mytable-body">
        <tr id="report">
            <td width="100%"></td>
        </tr>
    </table>
    <!-- <div class="contaier-fluid page-body-wrapper">
        <div class="main-panel">
            <div class="row">
                <div class="col-md-2 grid-margin stretch-card">
                    <div class="card">
                        <div class="card-body">
                            <p class="card-title text-md-center text-xl-left">Competitor Properties</p>
                            <div
                                class="d-flex flex-wrap justify-content-between justify-content-md-center justify-content-xl-between align-items-center">
                                <h3 class="mb-0 mb-md-2 mb-xl-0 order-md-1 order-xl-0">7,924</h3>
                                <i class="ti-calendar icon-md text-muted mb-0 mb-md-3 mb-xl-0"></i>
                            </div>
                            <p class="mb-0 mt-2 text-danger">0.12% <span class="text-black ml-1"><small>(30
                                        days)</small></span></p>
                        </div>
                    </div>
                </div>

                <div class="col-md-2 grid-margin stretch-card">
                    <div class="card">
                        <div class="card-body">
                            <p class="card-title text-md-center text-xl-left">Avg SqFt</p>
                            <div
                                class="d-flex flex-wrap justify-content-between justify-content-md-center justify-content-xl-between align-items-center">
                                <h3 class="mb-0 mb-md-2 mb-xl-0 order-md-1 order-xl-0">1,082.5</h3>
                                <i class="ti-user icon-md text-muted mb-0 mb-md-3 mb-xl-0"></i>
                            </div>
                            <p class="mb-0 mt-2 text-danger">0.47% <span class="text-black ml-1"><small>(30
                                        days)</small></span></p>
                        </div>
                    </div>
                </div>

                <div class="col-md-2 grid-margin stretch-card">
                    <div class="card">
                        <div class="card-body">
                            <p class="card-title text-md-center text-xl-left">Avg # Bedrooms</p>
                            <div
                                class="d-flex flex-wrap justify-content-between justify-content-md-center justify-content-xl-between align-items-center">
                                <h3 class="mb-0 mb-md-2 mb-xl-0 order-md-1 order-xl-0">3.3</h3>
                                <i class="ti-agenda icon-md text-muted mb-0 mb-md-3 mb-xl-0"></i>
                            </div>
                            <p class="mb-0 mt-2 text-success">64.00%<span class="text-black ml-1"><small>(30
                                        days)</small></span></p>
                        </div>
                    </div>
                </div>

                <div class="col-md-2 grid-margin stretch-card">
                    <div class="card">
                        <div class="card-body">
                            <p class="card-title text-md-center text-xl-left">Avg Rental Price</p>
                            <div
                                class="d-flex flex-wrap justify-content-between justify-content-md-center justify-content-xl-between align-items-center">
                                <h3 class="mb-0 mb-md-2 mb-xl-0 order-md-1 order-xl-0">$ 2,065</h3>
                                <i class="ti-layers-alt icon-md text-muted mb-0 mb-md-3 mb-xl-0"></i>
                            </div>
                            <p class="mb-0 mt-2 text-success">23.00%<span class="text-black ml-1"><small>(30
                                        days)</small></span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
</body>

</html>

<script>
    $('#sw1').change(function () {
        $.ajax({
            async: false,
            url: 'sf_backend.php?q=' + sw1.checked + '&type=ap_sw&vid=BENCHMARK',
            type: 'get',
            data: {},
        })
    });
    // Debug Switch
    $('#sw2').change(function () {
        $.ajax({
            async: false,
            url: 'sf_backend.php?q=' + sw2.checked + '&type=ap_sw&vid=DEBUG',
            type: 'get',
            data: {},
        })
    });
</script>
<script>
    window.onload = () => {


        const dataGraph =  {cv1:[10, 50, 200, 80, 40, 60, 60], cv2: [175, 145, 80, 130, 240, 160, 120]}
        renderGraph(dataGraph, 'graphSuccess')


        console.log('onload');
        const list = document.querySelector('#list');
        const graph = document.querySelector('#graph1');
        const graph2 = document.querySelector('#graph2');
        const report = document.querySelector('#report');
        document.getElementById('feedbacksValue').innerHTML = 'qqq';
        console.log('list.childElementCount: ', list.childElementCount);
        console.log('graph.childElementCount: ', graph.childElementCount);
        console.log('report.childElementCount: ', report.childElementCount);
        // addSquare(1, 4, list, "Competitor Properties", "7958");
        setTimeout(() => {
            addGraph(1, 1, graph);
        }, 5000)
        // addSquare(1, 1, list);
        // addGraph(1,1, graph2);
        // addGraph(1,2, graph2);
        // addReport(1,1, report);
        console.log('position: ', list);

    }

    const renderGraph = (dataGraph, containerId) =>{

        if ($(`#${containerId}`).length) {
      var areaData = {
        labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul"],
        datasets: [
          {
            data: dataGraph.cv1,
            backgroundColor: [
              'rgba(255, 100, 2, .8)'
            ],
            borderColor: [
              'transparent'
            ],
            borderWidth:3,
            fill: 'origin',
            label: "services"
          },
          {
            data: dataGraph.cv2,
            backgroundColor: [
              'rgba(245, 166, 35, 1)'
            ],
            borderColor: [
              'transparent'
            ],
            borderWidth:3,
            fill: 'origin',
            label: "purchases"
          }
        ]
      };
      var areaOptions = {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          filler: {
            propagate: false
          }
        },
        scales: {
          xAxes: [{
            display: false,
            ticks: {
              display: true
            },
            gridLines: {
              display: false,
              drawBorder: false,
              color: 'transparent',
              zeroLineColor: '#eeeeee'
            }
          }],
          yAxes: [{
            display: false,
            ticks: {
              display: true,
              autoSkip: false,
              maxRotation: 0,
              stepSize: 100,
              min: 0,
              max: 260
            },
            gridLines: {
              drawBorder: false
            }
          }]
        },
        legend: {
          display: false
        },
        tooltips: {
          enabled: true
        },
        elements: {
          line: {
            tension: .45
          },
          point: {
            radius: 0
          }
        }
      }
      var salesChartCanvas = $(`#${containerId}`).get(0).getContext("2d");
      var salesChart = new Chart(salesChartCanvas, {
        type: 'line',
        data: areaData,
        options: areaOptions
      });
    }


    }


    //EL X Sería la posición de ubicación.
    const addSquare = (x, y, container, title = "Title", subtitle = "Subtitle") => {
        // const row = document.createElement("div");
        // const stretchCard = document.createElement("div");
        // const card = document.createElement("div");
        // const textPar = document.createElement("p");
        // // const content 
        // div.className = "square";

        y = y > 4 ? 4 : y;
        const index = y - 1;
        let card = document.createRange().createContextualFragment(`<div class="card">
                                                                            <div class="card-body">
                                                                                <p class="card-title text-md-center text-xl-left">${title}</p>
                                                                                <div class="d-flex flex-wrap justify-content-between justify-content-md-center justify-content-xl-between align-items-center">
                                                                                    <h3 class="mb-0 mb-md-2 mb-xl-0 order-md-1 order-xl-0">${subtitle}</h3>
                                                                                    <i class="ti-calendar icon-md text-muted mb-0 mb-md-3 mb-xl-0"></i>
                                                                                </div>
                                                                                <p class="mb-0 mt-2 text-danger">0.12% <span class="text-black ml-1"><small>(30days)</small></span></p>
                                                                            </div>
                                                                        </div>
                                                                    `);
        container.children[index].appendChild(card);
    };

    const addGraph = (x, y, container) => {
        // const div = document.createElement("div");
        // div.className = "graph";
        y = y > 2 ? 2 : y;
        const index = y - 1;
        let card = document.createRange().createContextualFragment(`
        <td width="50%">
            <div class="col-md-8 grid-margin stretch-card">
                                                                        <div class="card border-bottom-0">
                                                                            <div class="card-body pb-0">
                                                                                <p class="card-title">Purchases</p>
                                                                                <p class="text-muted font-weight-light">The argument in favor of using filler text
                                                                                    goes something like this: If you use real content in the design process, anytime
                                                                                    you reach a review</p>
                                                                                <div class="d-flex flex-wrap mb-5">
                                                                                    <div class="mr-5 mt-3">
                                                                                        <p class="text-muted">Status</p>
                                                                                        <h3>362</h3>
                                                                                    </div>
                                                                                    <div class="mr-5 mt-3">
                                                                                        <p class="text-muted">New users</p>
                                                                                        <h3>187</h3>
                                                                                    </div>
                                                                                    <div class="mr-5 mt-3">
                                                                                        <p class="text-muted">Chats</p>
                                                                                        <h3>524</h3>
                                                                                    </div>
                                                                                    <div class="mt-3">
                                                                                        <p class="text-muted">Feedbacks</p>
                                                                                        <h3>509</h3>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <canvas id="order-chart" class="w-100 chartjs-render-monitor"></canvas>
                                                                        </div>
                                                                    </div>        
        </td>
                                                                    
                                                                `);
        container.children[index].appendChild(card);
    }

    const addReport = (x, y, container) => {
        y = y > 1 ? 1 : y;
        const index = y - 1;
        let card = document.createRange().createContextualFragment(`<div class="col-md-12 col-xl-9">
                      <div class="row">
                        <div class="col-md-6 mt-3 col-xl-5"><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
                          <canvas id="north-america-chart" width="636" height="318" style="display: block; height: 159px; width: 318px;" class="chartjs-render-monitor"></canvas>
                          <div id="north-america-legend"><div class="report-chart"><div class="d-flex justify-content-between mx-4 mx-xl-5 mt-3"><div class="d-flex align-items-center"><div class="mr-3" style="width:20px; height:20px; border-radius: 50%; background-color: #71c016"></div><p class="mb-0">Offline sales</p></div><p class="mb-0">22789</p></div><div class="d-flex justify-content-between mx-4 mx-xl-5 mt-3"><div class="d-flex align-items-center"><div class="mr-3" style="width:20px; height:20px; border-radius: 50%; background-color: #8caaff"></div><p class="mb-0">Online sales</p></div><p class="mb-0">94678</p></div><div class="d-flex justify-content-between mx-4 mx-xl-5 mt-3"><div class="d-flex align-items-center"><div class="mr-3" style="width:20px; height:20px; border-radius: 50%; background-color: #248afd"></div><p class="mb-0">Returns</p></div><p class="mb-0">12097</p></div></div></div>
                        </div>
                        <div class="col-md-6 col-xl-7">
                          <div class="table-responsive mb-3 mb-md-0">
                            <table class="table table-borderless report-table">
                              <tbody><tr>
                                <td class="text-muted">Illinois</td>
                                <td class="w-100 px-0">
                                  <div class="progress progress-md mx-4">
                                    <div class="progress-bar bg-primary" role="progressbar" style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"></div>
                                  </div>
                                </td>
                                <td><h5 class="font-weight-bold mb-0">524</h5></td>
                              </tr>
                              <tr>
                                <td class="text-muted">Washington</td>
                                <td class="w-100 px-0">
                                  <div class="progress progress-md mx-4">
                                    <div class="progress-bar bg-primary" role="progressbar" style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                                  </div>
                                </td>
                                <td><h5 class="font-weight-bold mb-0">722</h5></td>
                              </tr>
                              <tr>
                                <td class="text-muted">Mississippi</td>
                                <td class="w-100 px-0">
                                  <div class="progress progress-md mx-4">
                                    <div class="progress-bar bg-primary" role="progressbar" style="width: 95%" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100"></div>
                                  </div>
                                </td>
                                <td><h5 class="font-weight-bold mb-0">173</h5></td>
                              </tr>
                              <tr>
                                <td class="text-muted">California</td>
                                <td class="w-100 px-0">
                                  <div class="progress progress-md mx-4">
                                    <div class="progress-bar bg-primary" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                                  </div>
                                </td>
                                <td><h5 class="font-weight-bold mb-0">945</h5></td>
                              </tr>
                              <tr>
                                <td class="text-muted">Maryland</td>
                                <td class="w-100 px-0">
                                  <div class="progress progress-md mx-4">
                                    <div class="progress-bar bg-primary" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                                  </div>
                                </td>
                                <td><h5 class="font-weight-bold mb-0">553</h5></td>
                              </tr>
                              <tr>
                                <td class="text-muted">Alaska</td>
                                <td class="w-100 px-0">
                                  <div class="progress progress-md mx-4">
                                    <div class="progress-bar bg-primary" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                                  </div>
                                </td>
                                <td><h5 class="font-weight-bold mb-0">912</h5></td>
                              </tr>
                            </tbody></table>
                          </div>
                        </div>
                      </div>
                    </div>`
        );
        container.children[index].appendChild(card);
    }


</script>

<!-- plugins:js -->
<script src="/royalui/vendors/base/vendor.bundle.base.js"></script>
<!-- endinject -->
<!-- Plugin js for this page-->
<script src="/royalui/vendors/chart.js/Chart.min.js"></script>
<!-- End plugin js for this page-->
<!-- inject:js -->
<script src="/royalui/js/off-canvas.js"></script>
<script src="/royalui/js/hoverable-collapse.js"></script>
<script src="/royalui/js/template.js"></script>
<script src="/royalui/js/todolist.js"></script>
<!-- endinject -->
<!-- Custom js for this page-->
<script src="/royalui/js/dashboard.js"></script>